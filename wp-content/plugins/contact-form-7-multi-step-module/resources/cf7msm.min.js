function cf7msm_uniqueArray(e,t){for(var s={},n=[],r=2;r--;e=t)e.map(function(e){s[e]=s[e]||n.push(e)});return n}function cf7msm_hasSS(){var e="test";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}function quoteattr(e,t){return t=t?"&#13;":"\n",(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,t).replace(/[\r\n]/g,t)}function escapeattr(e){return(""+e).replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\u00A0/g,"\\u00A0").replace(/&/g,"\\x26").replace(/'/g,"\\x27").replace(/"/g,"\\x22").replace(/</g,"\\x3C").replace(/>/g,"\\x3E")}var cf7msm_ss;jQuery(document).ready(function(e){var t=cf7msm_posted_data,s=e("input[name='cf7msm-step']");if(0!=s.length){if(cf7msm_hasSS()){if(null!=(cf7msm_ss=sessionStorage.getObject("cf7msm"))&&s.length>0){var n=e(s[0].form);e.each(cf7msm_ss,function(e,t){"cf7msm_prev_urls"==e&&n.find(".wpcf7-back, .wpcf7-previous").click(function(e){window.location.href=t[s.val()],e.preventDefault()})})}}else e("input[name='cf7msm-no-ss']").val(1),e(".wpcf7-previous").hide();if(t){var n=e(s[0].form);e.each(t,function(t,s){if(t.indexOf("[]")===t.length-2&&(t=t.substring(0,t.length-2)),(0!=t.indexOf("_")||0==t.indexOf("_wpcf7_radio_free_text_")||0==t.indexOf("_wpcf7_checkbox_free_text_"))&&"cf7msm-step"!=t){var r=n.find('*[name="'+t+'"]:not([data-cf7msm-previous])'),c=n.find('input[name="'+t+'[]"]:not([data-cf7msm-previous])'),i=n.find('select[name="'+t+'[]"]:not([data-cf7msm-previous])');r.length>0?"radio"==r.prop("type")||"checkbox"==r.prop("type")?r.filter(function(){return e(this).val()==s}).prop("checked",!0):r.is("select")?r.find("option").filter(function(){return this.value==s}).attr("selected","selected"):r.val(s):c.length>0&&s.constructor===Array?""!=s&&s.length>0&&e.each(s,function(t,s){c.filter(function(){return e(this).val()==s}).prop("checked",!0)}):i.length>0&&s.constructor===Array&&""!=s&&s.length>0&&e.each(s,function(e,t){i.find("option").filter(function(){return this.value==t}).attr("selected","selected")})}})}document.addEventListener("wpcf7mailsent",function(t){if(cf7msm_hasSS()){var s=0,n=0,r=[],c={};(cf7msm_ss=sessionStorage.getObject("cf7msm"))||(cf7msm_ss={}),e.each(t.detail.inputs,function(i){var a=t.detail.inputs[i].name,f=t.detail.inputs[i].value;if(a.indexOf("[]")===a.length-2?(-1===e.inArray(a,r)&&(c[a]=[]),c[a].push(f)):c[a]=f,"cf7msm-step"===a){if(-1!==f.indexOf("-")){var o={};cf7msm_ss&&cf7msm_ss.cf7msm_prev_urls&&(o=cf7msm_ss.cf7msm_prev_urls);var m=f.split("-"),p;if(s=parseInt(m[0]),n=parseInt(m[1]),nextUrl=m[2],s<n)o[1+parseInt(s)+"-"+n]=window.location.href,e("#"+t.detail.unitTag).find("div.wpcf7-mail-sent-ok").remove();else if(s===n){var u=e("#"+t.detail.unitTag+" form");u.find("*").not("div.wpcf7-response-output").hide(),u.find("div.wpcf7-response-output").parentsUntil("form").show()}cf7msm_ss.cf7msm_prev_urls=o}}else r.push(a)}),0!=s&&s===n&&(cf7msm_ss={}),sessionStorage.setObject("cf7msm",cf7msm_ss)}},!1)}}),Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){var t=this.getItem(e);return t&&JSON.parse(t)};